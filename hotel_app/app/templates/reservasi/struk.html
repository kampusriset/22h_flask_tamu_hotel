{% extends "base.html" %}

{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-8" id="struk-area">
            <!-- Struk Header -->
            <div class="text-center mb-4">
                <h2>Pablo Hotel</h2>
                <p class="mb-0">Jl. Hotel No. 123, Kota</p>
                <p class="mb-0">Telp: (021) 123-4567</p>
                <hr>
            </div>

            <!-- Struk Content -->
            <div class="mb-4">
                <div class="row mb-2">
                    <div class="col-6">No. Transaksi</div>
                    <div class="col-6 text-end">#{{ pembayaran.id }}</div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">Tanggal</div>
                    <div class="col-6 text-end">{{ pembayaran.created_at.strftime('%d %b %Y %H:%M') }}</div>
                </div>
                <hr>
                <h5>Detail Reservasi</h5>
                <div class="row mb-2">
                    <div class="col-6">Nama Tamu</div>
                    <div class="col-6 text-end">{{ reservasi.nama_tamu }}</div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">No. Kamar</div>
                    <div class="col-6 text-end">{{ reservasi.kamar.nomor }} ({{ reservasi.kamar.tipe }})</div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">Check In</div>
                    <div class="col-6 text-end">{{ reservasi.check_in.strftime('%d %b %Y') }}</div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">Check Out</div>
                    <div class="col-6 text-end">{{ reservasi.check_out.strftime('%d %b %Y') }}</div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">Durasi</div>
                    <div class="col-6 text-end">{{ (reservasi.check_out - reservasi.check_in).days }} malam</div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">Harga per Malam</div>
                    <div class="col-6 text-end">Rp {{ "{:,.0f}".format(reservasi.kamar.harga) }}</div>
                </div>
                <hr>
                <div class="row mb-2">
                    <div class="col-6"><strong>Total Pembayaran</strong></div>
                    <div class="col-6 text-end"><strong>Rp {{ "{:,.0f}".format(pembayaran.jumlah) }}</strong></div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">Metode Pembayaran</div>
                    <div class="col-6 text-end">{{ pembayaran.metode }}</div>
                </div>
                <div class="row mb-2">
                    <div class="col-6">Status</div>
                    <div class="col-6 text-end">
                        <span class="badge bg-success">{{ pembayaran.status }}</span>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center">
                <p class="mb-0">Terima kasih telah memilih Hotel kami</p>
                <p class="mb-0">Selamat menginap!</p>
            </div>
        </div>

        <!-- Print Button - tidak akan tercetak -->
        <div class="col-md-8 mt-4 text-center" id="print-button">
            <button onclick="window.print()" class="btn btn-primary">
                <i class="fas fa-print"></i> Cetak Struk
            </button>
            <a href="{{ url_for('reservasi.index') }}" class="btn btn-secondary">
                <i class="fas fa-arrow-left"></i> Kembali
            </a>
        </div>
    </div>
</div>

<style>
    @media print {
        #print-button {
            display: none;
        }
        .navbar {
            display: none;
        }
        .container {
            width: 100%;
            max-width: none;
        }
    }
</style>
{% endblock %} 